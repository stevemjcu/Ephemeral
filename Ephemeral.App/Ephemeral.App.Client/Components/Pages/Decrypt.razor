@page "/decrypt/{id}"
@inject EphemeralService Service
@inject NavigationManager NavigationManager
@inject IConfiguration Configuration

<PageTitle>Decrypt Secret</PageTitle>

<Submission Label="Decrypt the secret to view its contents." Value=@Ciphertext Action=Action />

@code {
	[Parameter] public required string Id { get; set; }

	private string Ciphertext { get; set; } = string.Empty;

	protected override async Task OnInitializedAsync()
	{
		Ciphertext = await Service.SecretsGETAsync(new(Id));
	}

	private async Task<string> Action(string value)
	{
		// TODO: Decrypt string

		return value;
	}
}