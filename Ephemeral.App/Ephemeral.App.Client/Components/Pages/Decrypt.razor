@page "/decrypt/{id}"
@using System.Text
@inject Api Api
@inject NavigationManager NavigationManager

<PageTitle>Decrypt Secret</PageTitle>

<Submission Label="Decrypt the secret to view its contents." Value=... Action=DecryptSecret />

@code {
	[Parameter] public required string Id { get; set; }

	private async Task<string> DecryptSecret(string _)
	{
		var data = await Api.SecretsGETAsync(new(Id));
		var key = Convert.FromBase64String(new Uri(NavigationManager.Uri).Fragment[1..]);

		return data; /* Encoding.UTF8.GetString(Crypto.Decrypt(data, key)); */
	}
}